"use strict";for(var timer1,left=document.querySelector(".left"),right=document.querySelector(".right"),imgs=document.querySelector(".imgs"),nums=document.querySelector(".num"),index=0,datas=["img/banner01.jpg","img/banner02.jpg","img/banner03.jpg","img/banner04.jpg"],i=0,len=datas.length;i<len;i++)imgs.innerHTML+='<img src="'.concat(datas[i],'" alt="">'),nums.innerHTML+="<span></span>";var img=document.querySelectorAll(".imgs img"),num=document.querySelectorAll(".num span");function autoMove(){timer1=setInterval(function(){initState(),++index>=img.length&&(index=0),active(),move(img[index],100)},3e3)}img[0].style.zIndex=10,num[0].className="active",move(img[index],100),autoMove();for(i=0,len=num.length;i<len;i++)num[i].ind=i,num[i].onclick=function(){clearInterval(timer1),initState(),index=this.ind,active(),move(img[index],100),autoMove()};function initState(){img[index].style.opacity=.1,img[index].style.zIndex=1,num[index].className=""}function active(){img[index].style.zIndex=10,num[index].className="active"}function move(i,t){i.opa=10,clearInterval(i.timer),i.timer=setInterval(function(){if(t>i.opa)var e=4;else e=-4;Math.abs(t-i.opa)<=Math.abs(e)?(clearInterval(i.timer),i.style.opacity=t/100,i.style.filter="alpha(opacity:"+t+")"):(i.opa+=e,i.style.opacity=i.opa/100,i.style.filter="alpha(opacity:"+i.opa+")")},30)}left.onclick=function(){clearInterval(timer1),initState(),--index<0&&(index=img.length-1),active(),move(img[index],100),autoMove()},right.onclick=function(){clearInterval(timer1),initState(),++index>=img.length&&(index=0),active(),move(img[index],100),autoMove()};